using System;

namespace дз
{
    class Program
    {
        static void Main(string[] args)
        {
            string command = "";
            string[] users = new string[0];
            string[] jobs = new string[0];
            Console.WriteLine("1 - добавить досье \n2 - вывести все досье \n3 - удалить досье \n4 - поиск по фамилии \n5 - выход");
            sendMessage();
            do
            {
                command = Console.ReadLine();
                switch (command)
                {
                    case "1":
                        Console.WriteLine("Введите фамилию нового пользователя");
                        string user = Console.ReadLine();
                        Console.WriteLine("Введите кто он по профессии");
                        string job = Console.ReadLine();
                        addProfile(ref users, user, ref jobs, job);
                        Console.WriteLine("пользователь добавлен");
                        sendMessage();
                        break;
                    case "2":
                        displayAllProfiles(users, jobs);
                        sendMessage();
                        break;
                    case "3":
                        Console.WriteLine("Введите номер пользователя чтобы его удалить");
                        int index = Convert.ToInt32(Console.ReadLine())-1;
                        RemoveUser(ref users, index, ref jobs);
                        Console.WriteLine("Пользователь успешно удален");
                        sendMessage();
                        break;
                    case "4":
                        findByLastName(users, jobs);
                        sendMessage();
                        break;
                    case "5":
                        Console.WriteLine("Вы покинули программу");
                        break;
                    default:
                        Console.WriteLine("Такой команды не существует");
                        sendMessage();
                        break;
                }

            } while (command != "5");

            static void sendMessage()
            {
                Console.WriteLine("введите номер команды");
            }

            static void addProfile(ref string[] users, string user, ref string[] jobs, string job)
            {
                string[] tempUsers = new string[users.Length + 1];
                string[] tempJobs = new string[jobs.Length + 1];
                for (int i = 0; i < users.Length && i < jobs.Length; i++)
                {
                    tempUsers[i] = users[i];
                    tempJobs[i] = jobs[i];
                }
                tempUsers[tempUsers.Length - 1] = user;
                users = tempUsers;
                tempJobs[tempJobs.Length - 1] = job;
                jobs = tempJobs;   
            }

            static void displayAllProfiles(string[] users, string[] jobs)
            {
                for (int i = 0; i < users.Length; i++)
                {
                    for (int j = i; j < jobs.Length;)
                    {
                        Console.WriteLine($"{i+1}. {users[i]} --- {jobs[j]}");
                        break;
                    }
                }
            }

            static void findByLastName(string[] users, string[] jobs)
            {
                Console.WriteLine("Введите фамилию нужного человека");
                string person = Console.ReadLine();
                for (int i = 0; i < users.Length; i++)
                {
                    for (int j = 0; j < jobs.Length; j++)
                    {
                        if (person == users[i] && i == j)
                        {
                            Console.WriteLine($"Этот пользователь - {jobs[j]} ");
                        }
                    }
                }
            }

            static void RemoveUser(ref string[] users, int index, ref string[] jobs)
            {
                string[] tempUsers = new string[users.Length - 1];
                string[] tempJobs = new string[jobs.Length - 1];
                for (int i = 0; i < index; i++)
                {
                    tempUsers[i] = users[i];
                    tempJobs[i] = jobs[i];
                }
                for (int i = index + 1; i < users.Length && i < jobs.Length; i++)
                {
                    tempUsers[i - 1] = users[i];
                    tempJobs[i - 1] = jobs[i];
                }
                users = tempUsers;
                jobs = tempJobs;
            }
        }
    }
}

